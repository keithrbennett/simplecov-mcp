#!/bin/bash

# Pre-commit hook to run unit tests before allowing commit
# Runs RSpec tests to ensure code quality before committing

echo "Running unit tests before commit..."

# Run the tests
bundle exec rspec

# Check if tests passed
if [ $? -ne 0 ]; then
    echo "❌ Unit tests failed. Commit aborted."
    echo "Fix the failing tests and try again."
    exit 1
fi

echo "✅ All tests passed. Proceeding with commit."
exit 0